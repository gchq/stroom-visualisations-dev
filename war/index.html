<!DOCTYPE html>
<!--
  ~ Copyright 2016 Crown Copyright
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
-->
  <!-- TODO 
    ~ merge with themeing
	~ 1 large iframe on the right
	~ all the messages from the parent panel
	~ dependency management from the parent panel
	~ revert back to TestVis instead of parent and iframe
	~ use the stock vis.js from stroom instead of the edit here
	~ use the VisFrame.java => create the methods in js to dress up the jsons being sent to vis.js
	~ use testdata from parent which hopefully creates a data object which testvis will pass to vis.js
	~ revert vis.html to identical to the stroom one
	~ research serve lets
	~ have a look at -> context {}? settings? within testdata
  -->
<html class="stroom stroom-theme-dark">
<head>
	<link rel="stylesheet" type="text/css" href="index.css"/>

	<!--3rd party dependencies -->
	<script src="stroom-content/Visualisations/Version3/Dependencies/D3/D3.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/Chroma/Chroma.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/D3-Grid/D3-Grid.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/D3-Tip/D3-Tip.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/JSHashes/JSHashes.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/Leaflet/Leaflet.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/Leaflet/LeafletCSS.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/Leaflet/LeafletFontAwesomeMarkersCSS.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/LeafletDraw/LeafletDraw.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/LeafletDraw/LeafletDrawCSS.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/Dependencies/Underscore/Underscore.Script.resource.js" charset="utf-8"></script>

	<!--Common code -->
	<script src="stroom-content/Visualisations/Version3/Common.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/CSS.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/GenericGrid.Script.resource.js" charset="utf-8"></script>
	<script src="stroom-content/Visualisations/Version3/ThemeCSS.Script.resource.js" charset="utf-8"></script>
	<script src="./vis/TestData.js" charset="utf-8"></script>
	<script src="./vis/TestVis.js" charset="utf-8"></script>
</head>
<body onload="changeVis();" onresize="autoResize()">

    <div id="controls" style="position:absolute;top:0px;left:0px">
		<select id="visType" onchange="changeVis()">
			<option value="BarChart">Bar Chart (Date Time)</option>
			<option value="BarChart-bucket">Bar Chart (Bucket)</option>
			<option value="BarChart-ordinal" selected="selected">Bar Chart (Ordinal)</option>
			<option value="Bubble-flat" >Bubble (Flat)</option>
			<option value="Bubble-nested"  >Bubble (Nested)</option>
			<option value="DayWeekHeatMap">Day/Week Heat Map</option>
			<option value="Doughnut">Doughnut</option>
			<option value="FloorMap">FloorMap</option>
			<option value="Force">Force</option>
			<option value="ForceCanvas">Force Canvas</option>
			<option value="Gauge-GreenRed">Gauge (Green-Red)</option>
			<option value="Gauge-RedGreen">Gauge (Red-Green)</option>
			<option value="GeoMap">GeoMap</option>
			<option value="HourDayHeatMap">Hour/Day Heat Map</option>
			<option value="HourDayMultiHeatMap">Hour/Day Multi Heat Map</option>
			<option value="HourDayPointMap">Hour/Day Point Map</option>
			<option value="HourDaySessionMap">Hour Day Session Map</option>
			<option value="LineChart">Line Chart</option>
			<option value="LineChart-Stateful">Linechart (Stateful)</option>
			<option value="RAGStatus-GreenRed" >RAG Status (Green-Red)</option>
			<option value="RAGStatus-RedGreen" >RAG Status (Red-Green)</option>
			<option value="RadialTree" >Radial Tree [BROKEN]</option>
			<option value="Scatter">Scatter</option>
			<option value="SeriesDayHeatMap">Series Day Heat Map</option>
			<option value="SeriesSessionMap">Series Session Map</option>
			<option value="SeriesSessionMap-Stateful">Stateful Series Session Map</option>
			<option value="StackedArea">Stacked Area</option>
			<option value="Stroom">Stroom</option>
			<option value="TextValue" >Text Value</option>
			<option value="TrafficLights-GreenRed" >Traffic Lights (Green-Red)</option>
			<option value="TrafficLights-RedGreen" >Traffic Lights (Red-Green)</option>
			<option value="Tree" >Tree [BROKEN]</option>
			<option value="TreeMap">Tree Map</option>
			<option value="TimeSeries">Time Series</option>
			<option value="ZoomableTreeMap" >Zoomable Tree Map [BROKEN]</option>
		</select>
		<button onclick="resize()">Resize</button>
		<input id="autoResize" type="checkbox" checked="checked">Auto resize</input>
		<button onclick="update()">Update</button>
		<input id="autoUpdate" type="checkbox">Auto update</input>
		<input id="showLabels" type="checkbox" onChange="changeVis()">Labels</input>
		<input id="useGridSeries" type="checkbox" checked="checked" onChange="changeVis()">Grid</input>
		<input id="synchXAxis" type="checkbox" >Synch X</input>
		<input id="displayXAxis" type="checkbox" checked="checked">Disp. X</input>
		<input id="synchYAxis" type="checkbox" >Synch Y</input>
		<input id="displayYAxis" type="checkbox" checked="checked">Disp. Y</input>
		<input id="synchSeries" type="checkbox" >Synch Series</input>
		<input id="synchNames" type="checkbox" >Synch Names</input>
		<input id="thresholdMs" type="text" value="5400000">Threshold MS</input>	
		<select id="bucketSize">
			<option value=""></option>
			<option value="second">Second</option>
			<option value="minute">Minute</option>
			<option value="hour" selected="selected">Hour</option>
			<option value="day">Day</option>
			<option value="week">Week</option>
		</select>	
                <span>BucketSize</span>
		<button onclick="addGridSeries()">G+</button>
		<button onclick="removeGridSeries()">G-</button>
		<button onclick="addSeries()">S+</button>
		<button onclick="removeSeries()">S-</button>
		<button onclick="alterValues()">V</button>
		<button onclick="saveSvg()">SVG</button>
	</div>

    <div id="container" style="position:absolute;top:44px;left:0px;bottom:0px;right:0px">
	</div>
        <div id="svgdataurl"></div>
        <canvas width="1000" height="1000" style="display:none"></canvas>

	<div id="iframe">
		
	</div>
</body>
</html>
